<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="" xml:lang="">
<head>
  <meta charset="utf-8" />
  <meta name="generator" content="pandoc" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes" />
  <title>-</title>
  <style>
    html {
      line-height: 1.5;
      font-family: Georgia, serif;
      font-size: 20px;
      color: #1a1a1a;
      background-color: #fdfdfd;
    }
    body {
      margin: 0 auto;
      max-width: 36em;
      padding-left: 50px;
      padding-right: 50px;
      padding-top: 50px;
      padding-bottom: 50px;
      hyphens: auto;
      overflow-wrap: break-word;
      text-rendering: optimizeLegibility;
      font-kerning: normal;
    }
    @media (max-width: 600px) {
      body {
        font-size: 0.9em;
        padding: 1em;
      }
      h1 {
        font-size: 1.8em;
      }
    }
    @media print {
      body {
        background-color: transparent;
        color: black;
        font-size: 12pt;
      }
      p, h2, h3 {
        orphans: 3;
        widows: 3;
      }
      h2, h3, h4 {
        page-break-after: avoid;
      }
    }
    p {
      margin: 1em 0;
    }
    a {
      color: #1a1a1a;
    }
    a:visited {
      color: #1a1a1a;
    }
    img {
      max-width: 100%;
    }
    h1, h2, h3, h4, h5, h6 {
      margin-top: 1.4em;
    }
    h5, h6 {
      font-size: 1em;
      font-style: italic;
    }
    h6 {
      font-weight: normal;
    }
    ol, ul {
      padding-left: 1.7em;
      margin-top: 1em;
    }
    li > ol, li > ul {
      margin-top: 0;
    }
    blockquote {
      margin: 1em 0 1em 1.7em;
      padding-left: 1em;
      border-left: 2px solid #e6e6e6;
      color: #606060;
    }
    code {
      font-family: Menlo, Monaco, 'Lucida Console', Consolas, monospace;
      font-size: 85%;
      margin: 0;
    }
    pre {
      margin: 1em 0;
      overflow: auto;
    }
    pre code {
      padding: 0;
      overflow: visible;
      overflow-wrap: normal;
    }
    .sourceCode {
     background-color: transparent;
     overflow: visible;
    }
    hr {
      background-color: #1a1a1a;
      border: none;
      height: 1px;
      margin: 1em 0;
    }
    table {
      margin: 1em 0;
      border-collapse: collapse;
      width: 100%;
      overflow-x: auto;
      display: block;
      font-variant-numeric: lining-nums tabular-nums;
    }
    table caption {
      margin-bottom: 0.75em;
    }
    tbody {
      margin-top: 0.5em;
      border-top: 1px solid #1a1a1a;
      border-bottom: 1px solid #1a1a1a;
    }
    th {
      border-top: 1px solid #1a1a1a;
      padding: 0.25em 0.5em 0.25em 0.5em;
    }
    td {
      padding: 0.125em 0.5em 0.25em 0.5em;
    }
    header {
      margin-bottom: 4em;
      text-align: center;
    }
    #TOC li {
      list-style: none;
    }
    #TOC ul {
      padding-left: 1.3em;
    }
    #TOC > ul {
      padding-left: 0;
    }
    #TOC a:not(:hover) {
      text-decoration: none;
    }
    code{white-space: pre-wrap;}
    span.smallcaps{font-variant: small-caps;}
    span.underline{text-decoration: underline;}
    div.column{display: inline-block; vertical-align: top; width: 50%;}
    div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
    ul.task-list{list-style: none;}
    .display.math{display: block; text-align: center; margin: 0.5rem auto;}
  </style>
</head>
<body>
<h1 id="manuel-utilisateur-openaps-aimi">Manuel utilisateur â€“ OpenAPS
AIMI</h1>
<p>Bienvenue dans AIMI (Adaptive Insulin Management Intelligence), le
moteur prÃ©dictif dâ€™AndroidAPS qui combine apprentissage automatique,
surveillance physiologique et garde-fous avancÃ©s pour piloter basal et
SMB (Super Micro-Bolus). AIMI observe votre historique glycÃ©mique, vos
bolus, vos pas/rythme cardiaque et vos modes dÃ©clarÃ©s pour ajuster
dynamiquement sensibilitÃ©, durÃ©e dâ€™action de lâ€™insuline et micro-bolus,
tout en conservant les sÃ©curitÃ©s OpenAPS
historiques.ã€F:plugins/aps/src/main/kotlin/app/aaps/plugins/aps/openAPSAIMI/OpenAPSAIMIPlugin.ktâ€ L95-L175ã€‘ã€F:plugins/aps/src/main/kotlin/app/aaps/plugins/aps/openAPSAIMI/DetermineBasalAIMI2.ktâ€ L2480-L2648ã€‘</p>
<p>AIMI nâ€™est pas une boÃ®te noire : pensez-le comme un co-pilote. Plus
vos donnÃ©es sont propres (profil Ã  jour, enregistrement des repas,
fermeture des boucles nocturnes), plus AIMI anticipe finement et
stabilise vos glycÃ©mies.</p>
<hr />
<h2 id="sommaire">Sommaire</h2>
<ol type="1">
<li><a href="#installation-et-activation">Installation et
activation</a></li>
<li><a
href="#principes-gÃ©nÃ©raux-et-vÃ©rification-du-fonctionnement">Principes
gÃ©nÃ©raux et vÃ©rification du fonctionnement</a></li>
<li><a href="#-rÃ©glages-gÃ©nÃ©raux">ğŸ”§ RÃ©glages gÃ©nÃ©raux</a></li>
<li><a href="#ï¸-rÃ©gulation-basale--smb">âš™ï¸ RÃ©gulation basale &amp;
SMB</a></li>
<li><a href="#-intelligence-adaptative-isf-peaktime-pkpd">ğŸ§ 
Intelligence adaptative (ISF, PeakTime, PK/PD)</a></li>
<li><a href="#-modes--dÃ©tection-repas">ğŸ’¡ Modes &amp; dÃ©tection
repas</a></li>
<li><a href="#-exercice--rÃ¨gles-de-sÃ©curitÃ©">ğŸ’ª Exercice &amp; rÃ¨gles de
sÃ©curitÃ©</a></li>
<li><a href="#-mode-nuit--croissance-nocturne">ğŸŒ™ Mode nuit &amp;
croissance nocturne</a></li>
<li><a href="#ï¸-intÃ©gration-frÃ©quence-cardiaque--pas-wear-os">â¤ï¸
IntÃ©gration frÃ©quence cardiaque &amp; pas (Wear OS)</a></li>
<li><a href="#ï¸-wcycle--suivi-du-cycle-menstruel">â™€ï¸ WCycle â€“ suivi du
cycle menstruel</a></li>
<li><a href="#conseils-dajustement-rapide">Conseils dâ€™ajustement
rapide</a></li>
<li><a href="#dÃ©pannage-et-interprÃ©tation-des-logs">DÃ©pannage et
interprÃ©tation des logs</a></li>
<li><a href="#rÃ©capitulatif-pÃ©dagogique">RÃ©capitulatif
pÃ©dagogique</a></li>
</ol>
<hr />
<h2 id="installation-et-activation">Installation et activation</h2>
<ol type="1">
<li><strong>Activez le plugin</strong> depuis <em>Configuration â–¶ï¸
Plugins â–¶ï¸ APS</em> et cochez <strong>OpenAPS AIMI</strong>. AIMI
vÃ©rifie automatiquement que votre pompe accepte les basales
temporaires.ã€F:plugins/aps/src/main/kotlin/app/aaps/plugins/aps/openAPSAIMI/OpenAPSAIMIPlugin.ktâ€ L226-L238ã€‘</li>
<li><strong>RedÃ©marrez la boucle</strong> : au dÃ©marrage AIMI recharge
vos sensibilitÃ©s variables passÃ©es et installe son calculateur
Kalman/PK-PD.ã€F:plugins/aps/src/main/kotlin/app/aaps/plugins/aps/openAPSAIMI/OpenAPSAIMIPlugin.ktâ€ L140-L175ã€‘</li>
<li><strong>Autorisez les permissions</strong> : si vous activez les
pas/FC, assurez-vous que la montre Wear OS synchronise bien vers AAPS
(voir section â¤ï¸).</li>
<li><strong>VÃ©rifiez lâ€™Ã©tat</strong>
<ul>
<li>Lâ€™Ã©cran OpenAPS affiche <em>Algorithme AIMI</em> et la date du
dernier calcul
(<code>lastAPSRun</code>).ã€F:plugins/aps/src/main/kotlin/app/aaps/plugins/aps/openAPSAIMI/OpenAPSAIMIPlugin.ktâ€ L162-L165ã€‘</li>
<li>Les logs contiennent des raisons <code>AIMI+</code> lorsque
lâ€™adaptatif basal dÃ©clenche un kicker ou une
micro-reprise.ã€F:plugins/aps/src/main/kotlin/app/aaps/plugins/aps/openAPSAIMI/AIMIAdaptiveBasal.ktâ€ L79-L112ã€‘</li>
<li>Les colonnes <code>SMB</code>/<code>Basal</code> du statut montrent
les multiplicateurs WCycle ou NightGrowth lorsquâ€™ils sont
actifs.ã€F:plugins/aps/src/main/kotlin/app/aaps/plugins/aps/openAPSAIMI/DetermineBasalAIMI2.ktâ€ L2493-L2531ã€‘ã€F:plugins/aps/src/main/kotlin/app/aaps/plugins/aps/openAPSAIMI/DetermineBasalAIMI2.ktâ€ L417-L444ã€‘</li>
</ul></li>
</ol>
<hr />
<h2 id="principes-gÃ©nÃ©raux-et-vÃ©rification-du-fonctionnement">Principes
gÃ©nÃ©raux et vÃ©rification du fonctionnement</h2>
<ul>
<li><strong>Boucle complÃ¨te</strong> : AIMI rÃ©cupÃ¨re le
<code>GlucoseStatusAIMI</code>, calcule un plan basale via
<code>BasalPlanner</code>, applique <code>AIMIAdaptiveBasal</code> pour
les plateaux et ajuste les SMB via PK/PD et ISF
adaptatif.ã€F:plugins/aps/src/main/kotlin/app/aaps/plugins/aps/openAPSAIMI/basal/BasalDecisionEngine.ktâ€ L25-L113ã€‘ã€F:plugins/aps/src/main/kotlin/app/aaps/plugins/aps/openAPSAIMI/pkpd/PkPdIntegration.ktâ€ L27-L109ã€‘</li>
<li><strong>Apprentissage continu</strong> : les paramÃ¨tres PK/PD (DIA
et temps de pic) sont mis Ã  jour lorsquâ€™assez dâ€™IOB est disponible, sauf
si du sport ou des graisses retardÃ©es sont
dÃ©tectÃ©s.ã€F:plugins/aps/src/main/kotlin/app/aaps/plugins/aps/openAPSAIMI/pkpd/AdaptivePkPdEstimator.ktâ€ L20-L52ã€‘</li>
<li><strong>Logs utiles</strong> : <code>rT.reason</code> inclut les
dÃ©clencheurs (plateau kicker, NGR, WCycle). Les CSV AIMI
(<code>AAPS/oapsaimi*.csv</code>) enregistrent chaque dÃ©cision pour
analyse
ultÃ©rieure.ã€F:plugins/aps/src/main/kotlin/app/aaps/plugins/aps/openAPSAIMI/OapsAIMIsmb.ktâ€ L205-L276ã€‘</li>
</ul>
<hr />
<h2 id="rÃ©glages-gÃ©nÃ©raux">ğŸ”§ RÃ©glages gÃ©nÃ©raux</h2>
<p>Ces paramÃ¨tres posent la base physiologique utilisÃ©e par toutes les
briques AIMI.</p>
<h3 id="oapsaimimltraining">ğŸ”¹ <code>OApsAIMIMLtraining</code></h3>
<ul>
<li><strong>Valeur par dÃ©faut :</strong> <code>false</code>
(dÃ©sactivÃ©).ã€F:core/keys/src/main/kotlin/app/aaps/core/keys/BooleanKey.ktâ€ L123-L136ã€‘</li>
<li><strong>But :</strong> autoriser lâ€™entraÃ®nement du modÃ¨le SMB local
(fichier
<code>oapsaimiML_records.csv</code>).ã€F:plugins/aps/src/main/kotlin/app/aaps/plugins/aps/openAPSAIMI/OapsAIMIsmb.ktâ€ L205-L223ã€‘</li>
<li><strong>Effet :</strong> en mode entraÃ®nement, AIMI consigne vos
boucles pour affiner le rÃ©seau <code>neuralnetwork5</code> aprÃ¨s
accumulation dâ€™au moins 60 min de
donnÃ©es.ã€F:plugins/aps/src/main/kotlin/app/aaps/plugins/aps/openAPSAIMI/OapsAIMIsmb.ktâ€ L236-L244ã€‘</li>
<li><strong>Ajuster si :</strong>
<ul>
<li><strong>Hypos frÃ©quentes :</strong> laissez dÃ©sactivÃ© le temps
dâ€™identifier la source avant de rÃ©entraÃ®ner.</li>
<li><strong>Hypers frÃ©quentes :</strong> activez pour apprendre vos
patterns, mais surveillez la sÃ©curitÃ© (SMB est toujours bornÃ©).</li>
<li><strong>VariabilitÃ© :</strong> nâ€™entraÃ®nez quâ€™aprÃ¨s avoir stabilisÃ©
vos profils (au moins 3-4 jours de donnÃ©es homogÃ¨nes).</li>
</ul></li>
</ul>
<h3 id="oapsaimiweight-oapsaimicho-oapsaimitdd7">ğŸ”¹
<code>OApsAIMIweight</code>, <code>OApsAIMICHO</code>,
<code>OApsAIMITDD7</code></h3>
<ul>
<li><strong>Valeurs par dÃ©faut :</strong> 50â€¯kg, 50â€¯g, 40â€¯U
respectivement.ã€F:core/keys/src/main/kotlin/app/aaps/core/keys/DoubleKey.ktâ€ L67-L69ã€‘</li>
<li><strong>But :</strong> renseigner des bornes physiologiques
utilisÃ©es pour initialiser le filtre de Kalman ISF et la PK/PD si votre
historique est vide.</li>
<li><strong>Effet :</strong> un poids/TDD sous-estimÃ© rendra lâ€™ISF trop
agressif; un CHO moyen trop faible dÃ©tectera plus souvent des repas Â«
gras Â».</li>
<li><strong>Ajuster :</strong>
<ul>
<li><strong>Hypos :</strong> augmentez lÃ©gÃ¨rement
<code>OApsAIMIweight</code> ou <code>OApsAIMITDD7</code> vers vos
valeurs rÃ©elles â†’ lâ€™ISF se radoucit.</li>
<li><strong>Hypers :</strong> ajustez <code>OApsAIMICHO</code> vers vos
apports rÃ©els pour que les modÃ¨les repas restent rÃ©alistes.</li>
<li><strong>VariabilitÃ© :</strong> harmonisez ces paramÃ¨tres avec votre
profil (mÃªmes unitÃ©s que les rapports journaliers).</li>
</ul></li>
</ul>
<h3 id="aimiuamconfidence">ğŸ”¹ <code>AimiUamConfidence</code></h3>
<ul>
<li><strong>Valeur par dÃ©faut :</strong> <code>0.5</code> (confiance
moyenne).ã€F:core/keys/src/main/kotlin/app/aaps/core/keys/DoubleKey.ktâ€ L144-L146ã€‘</li>
<li><strong>But :</strong> pondÃ©rer lâ€™apprentissage Â« UAM Â» quand la
dÃ©tection de repas non annoncÃ©s est fiable.</li>
<li><strong>Effet :</strong> plus la confiance est Ã©levÃ©e, moins
lâ€™algorithme dynamique de sensibilitÃ© (IsfAdjustmentEngine) sâ€™Ã©loigne du
profil.ã€F:plugins/aps/src/main/kotlin/app/aaps/plugins/aps/openAPSAIMI/ISF/IsfAdjustmentEngine.ktâ€ L13-L36ã€‘</li>
<li><strong>Ajuster :</strong>
<ul>
<li><strong>Hypos post-UAM :</strong> augmentez (0.6â€“0.8) pour limiter
la baisse dâ€™ISF.</li>
<li><strong>Hyper prolongÃ©es non annoncÃ©es :</strong> rÃ©duisez (0.3â€“0.4)
afin que lâ€™ISF sâ€™adapte plus vite.</li>
<li><strong>VariabilitÃ© :</strong> laissez par dÃ©faut le temps que le
moteur accumule assez de Kalman trust.</li>
</ul></li>
</ul>
<h3 id="oapsaimienablebasal">ğŸ”¹ <code>OApsAIMIEnableBasal</code></h3>
<ul>
<li><strong>Valeur par dÃ©faut :</strong>
<code>false</code>.ã€F:core/keys/src/main/kotlin/app/aaps/core/keys/BooleanKey.ktâ€ L123-L136ã€‘</li>
<li><strong>But :</strong> activer une basale prÃ©dictive spÃ©cifique
(legacy). Actuellement non utilisÃ©e (commentÃ©e) : laissez dÃ©sactivÃ© sauf
demande spÃ©cifique.</li>
</ul>
<h3 id="oapsaimiautodrive">ğŸ”¹ <code>OApsAIMIautoDrive</code></h3>
<ul>
<li><strong>Valeur par dÃ©faut :</strong>
<code>false</code>.ã€F:core/keys/src/main/kotlin/app/aaps/core/keys/BooleanKey.ktâ€ L130-L136ã€‘</li>
<li><strong>But :</strong> activer lâ€™autoDrive, câ€™est-Ã -dire
lâ€™utilisation automatique des facteurs modes (repas, auto-bolus) et du
profil combinÃ© (<code>combinedDelta</code>).</li>
<li><strong>Effet :</strong> applique les facteurs
<code>autodrivePrebolus</code>, <code>autodrivesmallPrebolus</code>,
limite le basal via <code>autodriveMaxBasal</code> et ajuste les
dÃ©clencheurs
<code>combinedDelta</code>/<code>AutodriveDeviation</code>.ã€F:core/keys/src/main/kotlin/app/aaps/core/keys/DoubleKey.ktâ€ L105-L114ã€‘</li>
<li><strong>Ajuster :</strong> commencez par OFF, puis activez lorsque
vos modes repas sont bien renseignÃ©s.</li>
</ul>
<h3
id="paramÃ¨tres-cibles-autodrive-oapsaimiautodrivebg-oapsaimiautodrivetarget">ğŸ”¹
ParamÃ¨tres cibles AutoDrive (<code>OApsAIMIAutodriveBG</code>,
<code>OApsAIMIAutodriveTarget</code>)</h3>
<ul>
<li><strong>Valeurs par dÃ©faut :</strong> 90 et
70â€¯mg/dL.ã€F:core/keys/src/main/kotlin/app/aaps/core/keys/IntKey.ktâ€ L83-L86ã€‘</li>
<li><strong>Effet :</strong> servent de rÃ©fÃ©rences pour la dÃ©tection
dâ€™Ã©carts minimes et le dÃ©clenchement des micro-prÃ©bolus autoDrive.</li>
<li><strong>Conseil :</strong> Gardez <code>AutodriveBG</code> au-dessus
de votre cible rÃ©elle (â‰ˆâ€¯90â€“100) pour laisser AIMI absorber les petites
remontÃ©es sans sur-corriger.</li>
</ul>
<hr />
<h2 id="rÃ©gulation-basale-smb">âš™ï¸ RÃ©gulation basale &amp; SMB</h2>
<p>AIMI contrÃ´le simultanÃ©ment la basale temporaire (kickers,
anti-stall) et lâ€™intensitÃ© des SMB via ses paramÃ¨tres.</p>
<h3 id="paramÃ¨tres-smb-globaux">ParamÃ¨tres SMB globaux</h3>
<table>
<colgroup>
<col style="width: 12%" />
<col style="width: 21%" />
<col style="width: 7%" />
<col style="width: 21%" />
<col style="width: 22%" />
<col style="width: 15%" />
</colgroup>
<thead>
<tr class="header">
<th>ParamÃ¨tre</th>
<th>Valeur par dÃ©faut</th>
<th>RÃ´le</th>
<th>Ajustement hypos</th>
<th>Ajustement hypers</th>
<th>VariabilitÃ©</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td><code>OApsAIMIMaxSMB</code></td>
<td>1.0â€¯U</td>
<td>plafond SMB standard</td>
<td>â†“ Ã  0.7â€“0.8 si hypos aprÃ¨s SMB</td>
<td>â†‘ jusquâ€™Ã  1.2 si post-prandiales hautes</td>
<td>combinez avec facteurs repas</td>
</tr>
<tr class="even">
<td><code>OApsAIMIHighBGMaxSMB</code></td>
<td>1.0â€¯U</td>
<td>plafond SMB lorsque AIMI dÃ©tecte un haut plateau</td>
<td>idem</td>
<td>â†‘ (1.5) pour corriger plus vite un plateau &gt;180â€¯mg/dL</td>
<td>Surveillez NGR</td>
</tr>
<tr class="odd">
<td><code>autodriveMaxBasal</code></td>
<td>1.0â€¯U/h</td>
<td>plafond basale autoDrive</td>
<td>â†“ si hypos nocturnes</td>
<td>â†‘ (Ã—1.2) si plateau hyper en autoDrive</td>
<td>CouplÃ© Ã  anti-stall</td>
</tr>
<tr class="even">
<td><code>meal_modes_MaxBasal</code></td>
<td>1.0â€¯U/h</td>
<td>plafond basale durant modes repas</td>
<td>idem</td>
<td>â†‘ (Ã—1.3) si vous tolÃ©rez plus en repas longs</td>
<td>Laisser &gt; basale profil</td>
</tr>
</tbody>
</table>
<p><strong>Astuce :</strong> Les plafonds SMB/basal sont appliquÃ©s aprÃ¨s
toutes les sÃ©curitÃ©s
(<code>applyMaxLimits</code>).ã€F:plugins/aps/src/main/kotlin/app/aaps/plugins/aps/openAPSAIMI/OapsAIMIsmb.ktâ€ L296-L308ã€‘</p>
<h3 id="intervalles-smb-modes">Intervalles SMB / modes</h3>
<p>Les prÃ©fÃ©rences <code>OApsAIMIHighBGinterval</code>,
<code>OApsAIMImealinterval</code>, etc., dÃ©finissent la frÃ©quence
minimale (par 5â€¯min) Ã  laquelle AIMI peut reproposer un SMB en mode
correspondant (par dÃ©faut 3 Ã— 5â€¯min =
15â€¯min).ã€F:core/keys/src/main/kotlin/app/aaps/core/keys/IntKey.ktâ€ L75-L82ã€‘
- <strong>Hypos :</strong> augmentez lâ€™intervalle (4â€“5) pour espacer les
SMB. - <strong>Hypers prolongÃ©es :</strong> rÃ©duisez Ã  2 (10â€¯min) pour
HighBG seulement.</p>
<h3 id="aimiadaptivebasal-plateaux-micro-reprises">AIMIAdaptiveBasal
(plateaux, micro-reprises)</h3>
<ul>
<li><strong>Seuil haut</strong> <code>OApsAIMIHighBg</code> = 180â€¯mg/dL
: dÃ©clenche les kicks lorsquâ€™un plateau haut est
identifiÃ©.ã€F:core/keys/src/main/kotlin/app/aaps/core/keys/DoubleKey.ktâ€ L135-L143ã€‘ã€F:plugins/aps/src/main/kotlin/app/aaps/plugins/aps/openAPSAIMI/AIMIAdaptiveBasal.ktâ€ L62-L112ã€‘</li>
<li><strong>Bande plateau</strong> <code>OApsAIMIPlateauBandAbs</code> =
Â±2.5â€¯mg/dL/5â€¯min : plus la bande est large, plus AIMI tolÃ¨re des
variations avant de
kick-er.ã€F:core/keys/src/main/kotlin/app/aaps/core/keys/DoubleKey.ktâ€ L135-L143ã€‘</li>
<li><strong>Multiplicateur max</strong>
<code>OApsAIMIMaxMultiplier</code> = Ã—1.6 : limite la basale temporaire
en
plateau.ã€F:core/keys/src/main/kotlin/app/aaps/core/keys/DoubleKey.ktâ€ L135-L143ã€‘</li>
<li><strong>Kicker step/min</strong> (<code>OApsAIMIKickerStep</code>,
<code>OApsAIMIKickerMinUph</code>, <code>OApsAIMIKickerStartMin</code>,
<code>OApsAIMIKickerMaxMin</code>) contrÃ´lent lâ€™intensitÃ© et la durÃ©e du
kicker.ã€F:core/keys/src/main/kotlin/app/aaps/core/keys/DoubleKey.ktâ€ L138-L140ã€‘ã€F:core/keys/src/main/kotlin/app/aaps/core/keys/IntKey.ktâ€ L93-L98ã€‘</li>
<li><strong>Micro-reprise</strong> (<code>OApsAIMIZeroResumeMin</code>,
<code>OApsAIMIZeroResumeFrac</code>, <code>OApsAIMIZeroResumeMax</code>)
: relance une basale faible aprÃ¨s un arrÃªt â‰¥10â€¯min pour Ã©viter les
remontÃ©es
post-hypo.ã€F:core/keys/src/main/kotlin/app/aaps/core/keys/DoubleKey.ktâ€ L141-L142ã€‘ã€F:core/keys/src/main/kotlin/app/aaps/core/keys/IntKey.ktâ€ L96-L97ã€‘ã€F:plugins/aps/src/main/kotlin/app/aaps/plugins/aps/openAPSAIMI/AIMIAdaptiveBasal.ktâ€ L79-L112ã€‘</li>
<li><strong>Anti-stall</strong> <code>OApsAIMIAntiStallBias</code>
(10â€¯%) et <code>OApsAIMIDeltaPosRelease</code> (Î”+1 mg/dL) dÃ©finissent
lâ€™overdrive minimal en plateau
collant.ã€F:core/keys/src/main/kotlin/app/aaps/core/keys/DoubleKey.ktâ€ L142-L143ã€‘</li>
</ul>
<p><strong>DÃ©cision tree pratique :</strong></p>
<pre><code>Si plateau &gt;180 mg/dL et Î”â‰ˆ0 â†’ augmenter `OApsAIMIKickerStep` (+0,05) pour corriger plus vite.
Si hypos aprÃ¨s reprise basale â†’ rÃ©duire `OApsAIMIZeroResumeFrac` (0,2) ou augmenter `ZeroResumeMin` (15 min).
Si montÃ©e lente malgrÃ© kicks â†’ augmenter `OApsAIMIMaxMultiplier` (1,8 max) et vÃ©rifier `KickerMinUph`.</code></pre>
<h3 id="sÃ©curitÃ©-hypoglycÃ©mie">SÃ©curitÃ© hypoglycÃ©mie</h3>
<p>AIMI applique un garde-fou qui bloque SMB si la glycÃ©mie se rapproche
du seuil hypo avec pente nÃ©gative, en tenant compte dâ€™une marge
supplÃ©mentaire selon la vitesse de
chute.ã€F:plugins/aps/src/main/kotlin/app/aaps/plugins/aps/openAPSAIMI/DetermineBasalAIMI2.ktâ€ L400-L413ã€‘</p>
<hr />
<h2 id="intelligence-adaptative-isf-peaktime-pkpd">ğŸ§  Intelligence
adaptative (ISF, PeakTime, PK/PD)</h2>
<h3 id="pkpd-dynamique">PK/PD dynamique</h3>
<ul>
<li><strong>Activation</strong> : <code>OApsAIMIPkpdEnabled</code> (OFF
par
dÃ©faut).ã€F:core/keys/src/main/kotlin/app/aaps/core/keys/BooleanKey.ktâ€ L130-L136ã€‘</li>
<li><strong>ParamÃ¨tres initiaux</strong>
(<code>OApsAIMIPkpdInitialDiaH</code>,
<code>OApsAIMIPkpdInitialPeakMin</code>) dÃ©finissent le DIA (20â€¯h) et
pic
(40â€¯min).ã€F:core/keys/src/main/kotlin/app/aaps/core/keys/DoubleKey.ktâ€ L71-L80ã€‘</li>
<li><strong>Bornes &amp; vitesse</strong>
(<code>OApsAIMIPkpdBoundsDia*</code>,
<code>OApsAIMIPkpdBoundsPeak*</code>, <code>OApsAIMIPkpdMax*</code>)
limitent lâ€™apprentissage
quotidien.ã€F:core/keys/src/main/kotlin/app/aaps/core/keys/DoubleKey.ktâ€ L71-L78ã€‘</li>
<li><strong>Ã‰tat persistant</strong>
(<code>OApsAIMIPkpdStateDiaH</code>,
<code>OApsAIMIPkpdStatePeakMin</code>) mÃ©morise le dernier DIA/pic
appris.ã€F:core/keys/src/main/kotlin/app/aaps/core/keys/DoubleKey.ktâ€ L79-L80ã€‘</li>
<li><strong>Effet :</strong> lorsque activÃ©, AIMI fusionne lâ€™ISF
profil/TDD avec lâ€™estimation PK/PD et applique un <em>pkpdScale</em> liÃ©
Ã  la fraction de queue
dâ€™IOB.ã€F:plugins/aps/src/main/kotlin/app/aaps/plugins/aps/openAPSAIMI/pkpd/PkPdIntegration.ktâ€ L27-L82ã€‘</li>
<li><strong>PrioritÃ© repas :</strong> lorsque les modes repas/COB actifs
annoncent une montÃ©e, le <em>pkpdScale</em> est relevÃ© (planche 0.9 â†’
plafond 1.5) et les gardes SMB sont assouplies pour conserver de petits
bolus rapprochÃ©s tant que la prÃ©diction reste au-dessus de la
cible.ã€F:plugins/aps/src/main/kotlin/app/aaps/plugins/aps/openAPSAIMI/pkpd/PkPdIntegration.ktâ€ L1-L86ã€‘ã€F:plugins/aps/src/main/kotlin/app/aaps/plugins/aps/openAPSAIMI/DetermineBasalAIMI2.ktâ€ L1180-L1360ã€‘</li>
<li><strong>Ajustements :</strong>
<ul>
<li><strong>Hypos tardives</strong> : rÃ©duisez
<code>OApsAIMIPkpdMaxDiaChangePerDayH</code> pour freiner lâ€™allongement
de
DIA.ã€F:core/keys/src/main/kotlin/app/aaps/core/keys/DoubleKey.ktâ€ L77-L78ã€‘</li>
<li><strong>Hypers post-repas</strong> : baissez
<code>OApsAIMIPkpdBoundsPeakMinMax</code> (ex. 180) pour favoriser des
pics plus courts.</li>
<li><strong>DonnÃ©es instables</strong> : dÃ©sactivez temporairement
<code>PkpdEnabled</code> et revenez aux valeurs initiales (reset via
prÃ©fÃ©rences).</li>
</ul></li>
</ul>
<h3 id="fusion-isf-blending-rapide">Fusion ISF &amp; blending
rapide</h3>
<ul>
<li><strong><code>OApsAIMIIsfFusionMinFactor</code> /
<code>MaxFactor</code></strong> : facteurs min/max appliquÃ©s Ã  lâ€™ISF de
profil (0.75â€“2.0 par
dÃ©faut).ã€F:core/keys/src/main/kotlin/app/aaps/core/keys/DoubleKey.ktâ€ L81-L83ã€‘</li>
<li><strong><code>OApsAIMIIsfFusionMaxChangePerTick</code></strong> :
variation max Â±40â€¯% par tick de
5â€¯min.ã€F:core/keys/src/main/kotlin/app/aaps/core/keys/DoubleKey.ktâ€ L81-L83ã€‘</li>
<li><strong>Effet :</strong> la fusion mÃ©lange lâ€™ISF TDD/PkPd et le
Kalman rapide via <code>IsfBlender</code>, respectant un lissage Â±5â€¯%
par
boucle.ã€F:plugins/aps/src/main/kotlin/app/aaps/plugins/aps/openAPSAIMI/ISF/IsfBlender.ktâ€ L5-L45ã€‘</li>
</ul>
<h3 id="ajustement-adaptatif-isf">Ajustement adaptatif ISF</h3>
<p><code>IsfAdjustmentEngine</code> utilise la glycÃ©mie Kalman et une
EMA du TDD pour recalculer lâ€™ISF cible (loi logarithmique) tout en
limitant le changement Ã  Â±5â€¯% par boucle et Â±20â€¯% par
heure.ã€F:plugins/aps/src/main/kotlin/app/aaps/plugins/aps/openAPSAIMI/ISF/IsfAdjustmentEngine.ktâ€ L6-L49ã€‘
- <strong>Hypos</strong> : rÃ©duisez <code>AimiUamConfidence</code> ou
dÃ©sactivez PK/PD si lâ€™ISF chutait trop vite. - <strong>Hypers</strong> :
vÃ©rifiez que <code>OApsAIMIIsfFusionMaxFactor</code> reste â‰¥1.6.</p>
<h3 id="smb-damping-intelligent">SMB damping intelligent</h3>
<p>Les paramÃ¨tres <code>OApsAIMISmbTailThreshold</code>,
<code>OApsAIMISmbTailDamping</code>,
<code>OApsAIMISmbExerciseDamping</code>,
<code>OApsAIMISmbLateFatDamping</code> contrÃ´lent la rÃ©duction des SMB
en fin dâ€™action, aprÃ¨s exercice ou repas
gras.ã€F:core/keys/src/main/kotlin/app/aaps/core/keys/DoubleKey.ktâ€ L84-L87ã€‘ã€F:plugins/aps/src/main/kotlin/app/aaps/plugins/aps/openAPSAIMI/pkpd/SmbDamping.ktâ€ L4-L77ã€‘
- <strong>Conseil :</strong> - Si vous restez haut en fin dâ€™action â†’
augmentez <code>SmbTailThreshold</code> (0.35) ou relevez
<code>SmbTailDamping</code> (0.6). - Si hypos aprÃ¨s sport â†’ rÃ©duisez
<code>SmbExerciseDamping</code> (0.4) pour couper plus fort.</p>
<h3 id="peaktime-dynamique">PeakTime dynamique</h3>
<p>Le calcul <code>calculateDynamicPeakTime</code> combine IOB, activitÃ©
future, pas, FC, et capteur pour ajuster le temps de pic entre 35 et
120â€¯min.ã€F:plugins/aps/src/main/kotlin/app/aaps/plugins/aps/openAPSAIMI/DetermineBasalAIMI2.ktâ€ L2533-L2645ã€‘
- <strong>Hypos nocturnes</strong> : si le pic est trop court, augmentez
<code>OApsAIMIcombinedDelta</code> (1.5) pour rendre AIMI plus prudent
dans lâ€™autoDrive. - <strong>Hypers post-prandiales</strong> :
assurez-vous que les pas/FC sont bien synchronisÃ©s pour autoriser un pic
raccourci lorsque vous Ãªtes actif.</p>
<hr />
<h2 id="modes-dÃ©tection-repas">ğŸ’¡ Modes &amp; dÃ©tection repas</h2>
<p>AIMI module ses SMB selon vos modes temporels et vos facteurs
dÃ©diÃ©s.</p>
<h3 id="facteurs-journaliers">Facteurs journaliers</h3>
<p><code>OApsAIMIMorningFactor</code>,
<code>OApsAIMIAfternoonFactor</code>, <code>OApsAIMIEveningFactor</code>
(dÃ©faut 50â€¯%) pondÃ¨rent le SMB prÃ©dit selon la tranche
horaire.ã€F:core/keys/src/main/kotlin/app/aaps/core/keys/DoubleKey.ktâ€ L88-L101ã€‘ã€F:plugins/aps/src/main/kotlin/app/aaps/plugins/aps/openAPSAIMI/OapsAIMIsmb.ktâ€ L236-L245ã€‘
- <strong>Hypos matinales</strong> : rÃ©duisez le MorningFactor (40â€¯%). -
<strong>Hypers soirÃ©e</strong> : augmentez EveningFactor (60â€“70â€¯%).</p>
<h3 id="modes-repas-spÃ©cifiques">Modes repas spÃ©cifiques</h3>
<p>Chaque mode dispose dâ€™un trio <em>(prÃ©bolus1, prÃ©bolus2, facteur
%)</em> et dâ€™un intervalle : - <strong>Petit dÃ©jeuner</strong> :
<code>OApsAIMIBFPrebolus</code> (2.5â€¯U),
<code>OApsAIMIBFPrebolus2</code> (2.0â€¯U), <code>OApsAIMIBFFactor</code>
(50â€¯%), intervalle
15â€¯min.ã€F:core/keys/src/main/kotlin/app/aaps/core/keys/DoubleKey.ktâ€ L95-L101ã€‘ã€F:core/keys/src/main/kotlin/app/aaps/core/keys/IntKey.ktâ€ L81-L82ã€‘
- <strong>DÃ©jeuner / DÃ®ner</strong> : paramÃ¨tres analogues
(<code>Lunch*</code>,
<code>Dinner*</code>).ã€F:core/keys/src/main/kotlin/app/aaps/core/keys/DoubleKey.ktâ€ L98-L101ã€‘ã€F:core/keys/src/main/kotlin/app/aaps/core/keys/IntKey.ktâ€ L76-L79ã€‘
- <strong>Snack / HighCarb / Meal gÃ©nÃ©riques</strong> :
<code>OApsAIMISnackPrebolus</code>,
<code>OApsAIMIHighCarbPrebolus</code>,
etc.ã€F:core/keys/src/main/kotlin/app/aaps/core/keys/DoubleKey.ktâ€ L120-L123ã€‘
- <strong>Hyper mode</strong> : <code>OApsAIMIHyperFactor</code> (60â€¯%)
renforce les SMB si
BG&gt;180.ã€F:core/keys/src/main/kotlin/app/aaps/core/keys/DoubleKey.ktâ€ L100-L103ã€‘</p>
<p><strong>Astuces :</strong> - Utilisez
<code>OApsAIMImealinterval</code> (15â€¯min par dÃ©faut) pour Ã©viter les
SMB trop rapprochÃ©s pendant un repas
prolongÃ©.ã€F:core/keys/src/main/kotlin/app/aaps/core/keys/IntKey.ktâ€ L75-L82ã€‘
- <code>OApsAIMIMealFactor</code> pÃ¨se le SMB mÃªme sans mode explicite
(utile pour repas
surprises).ã€F:core/keys/src/main/kotlin/app/aaps/core/keys/DoubleKey.ktâ€ L91-L101ã€‘</p>
<h3 id="autodrive-prÃ©bolus">AutoDrive prÃ©bolus</h3>
<p><code>OApsAIMIautodrivePrebolus</code> (1â€¯U) et
<code>OApsAIMIautodrivesmallPrebolus</code> (0.1â€¯U) servent de limites
pour des micro-prÃ©bolus automatiques lorsque <code>autoDrive</code> est
actif.ã€F:core/keys/src/main/kotlin/app/aaps/core/keys/DoubleKey.ktâ€ L105-L107ã€‘</p>
<h3 id="gestion-notes-dÃ©tection-repas">Gestion notes &amp; dÃ©tection
repas</h3>
<p>AIMI scanne vos notes (sleep, sport, mealâ€¦) pour activer les modes si
vous oubliez de cliquer sur le bouton, et les enregistre dans les logs
SMB.ã€F:plugins/aps/src/main/kotlin/app/aaps/plugins/aps/openAPSAIMI/DetermineBasalAIMI2.ktâ€ L2656-L2678ã€‘ã€F:plugins/aps/src/main/kotlin/app/aaps/plugins/aps/openAPSAIMI/OapsAIMIsmb.ktâ€ L311-L360ã€‘</p>
<hr />
<h2 id="exercice-rÃ¨gles-de-sÃ©curitÃ©">ğŸ’ª Exercice &amp; rÃ¨gles de
sÃ©curitÃ©</h2>
<h3 id="toggles-physiologiques">Toggles physiologiques</h3>
<ul>
<li><strong><code>OApsAIMIpregnancy</code></strong>,
<strong><code>OApsAIMIhoneymoon</code></strong> : activent des
ajustements spÃ©cifiques dans <code>BasalDecisionEngine</code> (par ex.
augmenter la basale si delta&gt;0 pendant la
grossesse).ã€F:core/keys/src/main/kotlin/app/aaps/core/keys/BooleanKey.ktâ€ L123-L136ã€‘ã€F:plugins/aps/src/main/kotlin/app/aaps/plugins/aps/openAPSAIMI/basal/BasalDecisionEngine.ktâ€ L53-L63ã€‘ã€F:plugins/aps/src/main/kotlin/app/aaps/plugins/aps/openAPSAIMI/basal/BasalDecisionEngine.ktâ€ L461-L463ã€‘</li>
<li><strong><code>OApsAIMIforcelimits</code></strong> : forcer les
plafonds basale/SMB (utilisÃ© par certains profils). Laissez OFF sauf
recommandation clinique.</li>
</ul>
<h3 id="dÃ©tection-sport-sÃ©curitÃ©-smb">DÃ©tection sport &amp; sÃ©curitÃ©
SMB</h3>
<ul>
<li>Les rÃ¨gles <code>isSportSafetyCondition</code> coupent les SMB
lorsque pas/FC indiquent une activitÃ© intense, ou lorsque la cible est
Ã©levÃ©e
(&gt;140).ã€F:plugins/aps/src/main/kotlin/app/aaps/plugins/aps/openAPSAIMI/OapsAIMIsmb.ktâ€ L342-L350ã€‘</li>
<li><code>applySpecificAdjustments</code> rÃ©duit de moitiÃ© les SMB si
vous Ãªtes en sommeil/snack/basse activitÃ©
prolongÃ©e.ã€F:plugins/aps/src/main/kotlin/app/aaps/plugins/aps/openAPSAIMI/OapsAIMIsmb.ktâ€ L353-L360ã€‘</li>
</ul>
<h3 id="dÃ©cision-tree-sÃ©curitÃ©">DÃ©cision tree sÃ©curitÃ©</h3>
<pre><code>Si hypos aprÃ¨s sport â†’ activer `OApsAIMIEnableStepsFromWatch` + rÃ©duire `SmbExerciseDamping`.
Si hypos grossesse â†’ rÃ©duire `OApsAIMIMaxMultiplier` et vÃ©rifier `pregnancy` activÃ©.
Si hypers en lune de miel â†’ activer `OApsAIMIhoneymoon` pour autoriser plus d&#39;agressivitÃ©.</code></pre>
<hr />
<h2 id="mode-nuit-croissance-nocturne">ğŸŒ™ Mode nuit &amp; croissance
nocturne</h2>
<h3 id="mode-nuit-classique">Mode nuit classique</h3>
<ul>
<li><strong>Toggle</strong> <code>OApsAIMInight</code> (OFF par
dÃ©faut).ã€F:core/keys/src/main/kotlin/app/aaps/core/keys/BooleanKey.ktâ€ L127-L129ã€‘</li>
<li><strong>Facteur sommeil</strong> <code>OApsAIMIsleepFactor</code>
(60â€¯%) et intervalle <code>OApsAIMISleepinterval</code> (15â€¯min)
modÃ¨rent les SMB durant la
nuit.ã€F:core/keys/src/main/kotlin/app/aaps/core/keys/DoubleKey.ktâ€ L102-L103ã€‘ã€F:core/keys/src/main/kotlin/app/aaps/core/keys/IntKey.ktâ€ L81-L82ã€‘</li>
</ul>
<h3 id="night-growth-resistance-ngr">Night Growth Resistance (NGR)</h3>
<p>Ce module gÃ¨re les pics dâ€™hormone de croissance chez
lâ€™enfant/adolescent. - <strong>Activation</strong> : auto pour
&lt;18â€¯ans ou via <code>OApsAIMINightGrowthEnabled</code> (ON par
dÃ©faut).ã€F:core/keys/src/main/kotlin/app/aaps/core/keys/BooleanKey.ktâ€ L133-L136ã€‘ã€F:plugins/aps/src/main/kotlin/app/aaps/plugins/aps/openAPSAIMI/DetermineBasalAIMI2.ktâ€ L417-L444ã€‘
- <strong>ParamÃ¨tres clÃ©s</strong> : -
<code>OApsAIMINightGrowthAgeYears</code> (14â€¯ans), fenÃªtres
<code>OApsAIMINightGrowthStart</code>/<code>End</code>
(22:00â€“06:00).ã€F:core/keys/src/main/kotlin/app/aaps/core/keys/IntKey.ktâ€ L87-L90ã€‘ã€F:core/keys/src/main/kotlin/app/aaps/core/keys/StringKey.ktâ€ L56-L61ã€‘
- <code>OApsAIMINightGrowthMaxIobExtra</code> = marge dâ€™IOB autorisÃ©e
par tranche de 30â€¯min lorsque lâ€™Ã©pisode est
actif.ã€F:plugins/aps/src/main/res/values/strings.xmlâ€ L543-L544ã€‘ -
<strong>Fonctionnement</strong> : les seuils de pente/durÃ©e, les
multiplicateurs SMB/basal et la phase de dÃ©croissance sont dÃ©sormais
apprises automatiquement Ã  partir de lâ€™autosens, de la DIA, de la
stabilitÃ© CGM et du profil
basale.ã€F:plugins/aps/src/main/kotlin/app/aaps/plugins/aps/openAPSAIMI/DetermineBasalAIMI2.ktâ€ L420-L471ã€‘ã€F:plugins/aps/src/main/kotlin/app/aaps/plugins/aps/openAPSAIMI/NightGrowthResistanceLearner.ktâ€ L1-L59ã€‘ã€F:plugins/aps/src/main/kotlin/app/aaps/plugins/aps/openAPSAIMI/NightGrowthResistanceMonitor.ktâ€ L13-L215ã€‘</p>
<p><strong>Conseils :</strong> - Ajustez uniquement la fenÃªtre horaire
et lâ€™IOB supplÃ©mentaire si la croissance dÃ©borde encore les plafonds. -
Pour les plus jeunes, rÃ©duisez la tranche horaire si lâ€™Ã©pisode commence
plus tÃ´t/laissez le learner dÃ©cider des intensitÃ©s.</p>
<hr />
<h2 id="intÃ©gration-frÃ©quence-cardiaque-pas-wear-os">â¤ï¸ IntÃ©gration
frÃ©quence cardiaque &amp; pas (Wear OS)</h2>
<ul>
<li><strong>Activation</strong> :
<code>OApsAIMIEnableStepsFromWatch</code> (OFF par
dÃ©faut).ã€F:core/keys/src/main/kotlin/app/aaps/core/keys/BooleanKey.ktâ€ L123-L129ã€‘</li>
<li><strong>Effets</strong> :
<ul>
<li>Les pas sur 5â€“180â€¯min (<code>recentSteps*</code>) et la FC moyenne
5/60/180â€¯min sont utilisÃ©s pour ajuster le temps de pic, moduler SMB
(sport) et dÃ©cider des reprises
basales.ã€F:plugins/aps/src/main/kotlin/app/aaps/plugins/aps/openAPSAIMI/OapsAIMIsmb.ktâ€ L848-L911ã€‘ã€F:plugins/aps/src/main/kotlin/app/aaps/plugins/aps/openAPSAIMI/DetermineBasalAIMI2.ktâ€ L2539-L2645ã€‘</li>
<li>En cas dâ€™activitÃ© intense (&gt;1000 pas et FC&gt;110), AIMI allonge
le pic (Ã—1.2) et limite
SMB.ã€F:plugins/aps/src/main/kotlin/app/aaps/plugins/aps/openAPSAIMI/DetermineBasalAIMI2.ktâ€ L2616-L2626ã€‘ã€F:plugins/aps/src/main/kotlin/app/aaps/plugins/aps/openAPSAIMI/OapsAIMIsmb.ktâ€ L342-L350ã€‘</li>
<li>Au repos (pas&lt;200, FC&lt;50), le pic est raccourci (Ã—0.75) pour
Ã©viter les retards
dâ€™action.ã€F:plugins/aps/src/main/kotlin/app/aaps/plugins/aps/openAPSAIMI/DetermineBasalAIMI2.ktâ€ L2618-L2626ã€‘</li>
</ul></li>
</ul>
<p><strong>Astuces :</strong> - VÃ©rifiez que la montre transmet bien
toutes les 5â€¯min (sinon les valeurs resteront nulles et AIMI nâ€™ajustera
pas). - En cas dâ€™hypos Ã  lâ€™effort, rÃ©duisez
<code>SmbExerciseDamping</code> ou dÃ©sactivez temporairement
lâ€™option.</p>
<hr />
<h2 id="wcycle-suivi-du-cycle-menstruel">â™€ï¸ WCycle â€“ suivi du cycle
menstruel</h2>
<p>AIMI peut adapter basales et SMB selon votre phase menstruelle.</p>
<h3 id="activation-mode">Activation &amp; mode</h3>
<ul>
<li><strong><code>OApsAIMIwcycle</code></strong> : active le module (OFF
par
dÃ©faut).ã€F:core/keys/src/main/kotlin/app/aaps/core/keys/BooleanKey.ktâ€ L130-L134ã€‘</li>
<li><strong>Modes de suivi</strong> :
<code>OApsAIMIWCycleTrackingMode</code> (<code>FIXED_28</code>,
<code>CALENDAR_VARIABLE</code>,
etc.).ã€F:core/keys/src/main/kotlin/app/aaps/core/keys/StringKey.ktâ€ L56-L59ã€‘</li>
<li><strong>ParamÃ¨tres physiologiques</strong> : contraceptif, statut
thyroÃ¯de, Verneuil influencent lâ€™amplitude des
multiplicateurs.ã€F:core/keys/src/main/kotlin/app/aaps/core/keys/StringKey.ktâ€ L56-L59ã€‘ã€F:plugins/aps/src/main/kotlin/app/aaps/plugins/aps/openAPSAIMI/wcycle/WCycleTypes.ktâ€ L1-L39ã€‘</li>
<li><strong>Clamp min/max</strong> (<code>OApsAIMIWCycleClampMin</code>
0.8, <code>ClampMax</code> 1.25) bornent lâ€™Ã©chelle
appliquÃ©e.ã€F:core/keys/src/main/kotlin/app/aaps/core/keys/DoubleKey.ktâ€ L124-L126ã€‘</li>
<li><strong>Options shadow/confirm</strong> :
<ul>
<li><code>OApsAIMIWCycleShadow</code> garde les calculs sans les
appliquer (mode
observation).ã€F:core/keys/src/main/kotlin/app/aaps/core/keys/BooleanKey.ktâ€ L132-L135ã€‘</li>
<li><code>OApsAIMIWCycleRequireConfirm</code> demande une confirmation
avant dâ€™appliquer un
changement.ã€F:core/keys/src/main/kotlin/app/aaps/core/keys/BooleanKey.ktâ€ L132-L135ã€‘</li>
</ul></li>
</ul>
<h3 id="fonctionnement">Fonctionnement</h3>
<ul>
<li><code>ensureWCycleInfo()</code> interroge <code>WCycleFacade</code>
avec vos prÃ©fÃ©rences et renvoie la phase, les multiplicateurs et un
texte <code>reason</code> injectÃ© dans les
logs.ã€F:plugins/aps/src/main/kotlin/app/aaps/plugins/aps/openAPSAIMI/DetermineBasalAIMI2.ktâ€ L2493-L2517ã€‘</li>
<li><code>updateWCycleLearner</code> ajuste les multipliers appris tout
en respectant
<code>ClampMin/Max</code>.ã€F:plugins/aps/src/main/kotlin/app/aaps/plugins/aps/openAPSAIMI/DetermineBasalAIMI2.ktâ€ L2521-L2531ã€‘</li>
<li>Les valeurs de base suivent <code>WCycleDefaults</code> (ex. +12â€¯%
basal en phase
lutÃ©ale).ã€F:plugins/aps/src/main/kotlin/app/aaps/plugins/aps/openAPSAIMI/wcycle/WCycleTypes.ktâ€ L18-L38ã€‘</li>
</ul>
<p><strong>Conseils :</strong> - DÃ©finissez la durÃ©e moyenne
(<code>OApsAIMIWCycleAvgLength</code>, 28â€¯j) et le jour de dÃ©but
(<code>OApsAIMIwcycledateday</code>).ã€F:core/keys/src/main/kotlin/app/aaps/core/keys/IntKey.ktâ€ L86-L87ã€‘ã€F:core/keys/src/main/kotlin/app/aaps/core/keys/DoubleKey.ktâ€ L124-L126ã€‘
- En cas de contraception hormonale, lâ€™amplitude est automatiquement
rÃ©duite
(Ã—0.4â€“0.5).ã€F:plugins/aps/src/main/kotlin/app/aaps/plugins/aps/openAPSAIMI/wcycle/WCycleTypes.ktâ€ L23-L30ã€‘</p>
<hr />
<h2 id="conseils-dajustement-rapide">Conseils dâ€™ajustement rapide</h2>
<table>
<colgroup>
<col style="width: 23%" />
<col style="width: 40%" />
<col style="width: 36%" />
</colgroup>
<thead>
<tr class="header">
<th>Situation</th>
<th>Ajustement suggÃ©rÃ©</th>
<th>PrÃ©fÃ©rence liÃ©e</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td>Hypos post-SMB</td>
<td>â†“ <code>OApsAIMIMaxSMB</code>, â†‘
<code>OApsAIMISmbTailDamping</code></td>
<td>SMB &amp; PK/PD</td>
</tr>
<tr class="even">
<td>Hypos nocturnes</td>
<td>â†‘ <code>OApsAIMIZeroResumeMin</code>, â†“
<code>NightGrowthBasalMultiplier</code></td>
<td>Basal &amp; Night</td>
</tr>
<tr class="odd">
<td>Hypers post-repas</td>
<td>â†‘ facteurs repas (60â€“70â€¯%), â†“
<code>OApsAIMIPkpdBoundsPeakMinMax</code></td>
<td>Modes &amp; PK/PD</td>
</tr>
<tr class="even">
<td>Hyper plateau plat</td>
<td>â†‘ <code>OApsAIMIKickerStep</code>, vÃ©rifier
<code>HighBGMaxSMB</code></td>
<td>Adaptive Basal</td>
</tr>
<tr class="odd">
<td>VariabilitÃ© forte</td>
<td>Stabiliser poids/TDD, dÃ©sactiver <code>PkpdEnabled</code>, activer
<code>Shadow</code> WCycle</td>
<td>GÃ©nÃ©ral &amp; WCycle</td>
</tr>
</tbody>
</table>
<h3 id="mini-decision-tree-quotidien">Mini decision tree quotidien</h3>
<pre><code>Si vous restez &gt;180 mg/dL malgrÃ© SMB â†’ vÃ©rifier HighBG mode : augmenter `HighBGMaxSMB` et `HyperFactor`.
Si descente trop rapide aprÃ¨s autoDrive â†’ diminuer `autodrivePrebolus` et augmenter `AutodriveDeviation` (1.5).
Si tendance haute pendant activitÃ© â†’ activer suivi pas/FC et rÃ©duire `SmbExerciseDamping` pour conserver un peu de SMB.</code></pre>
<hr />
<h2 id="dÃ©pannage-et-interprÃ©tation-des-logs">DÃ©pannage et
interprÃ©tation des logs</h2>
<ol type="1">
<li><strong>Lire <code>rT.reason</code></strong> : chaque boucle
concatÃ¨ne les motifs (<code>plateau kicker</code>, <code>WCycle</code>,
<code>NGR</code>). Cherchez les phrases <code>AIMI+</code> pour voir les
actions
adaptatives.ã€F:plugins/aps/src/main/kotlin/app/aaps/plugins/aps/openAPSAIMI/AIMIAdaptiveBasal.ktâ€ L79-L112ã€‘ã€F:plugins/aps/src/main/kotlin/app/aaps/plugins/aps/openAPSAIMI/DetermineBasalAIMI2.ktâ€ L2493-L2531ã€‘</li>
<li><strong>CSV AIMI</strong> : <code>_records.csv</code> contient
toutes les variables (pas, TDD, ISF). Utile pour vÃ©rifier si vos modes
ou pas sont bien pris en
compte.ã€F:plugins/aps/src/main/kotlin/app/aaps/plugins/aps/openAPSAIMI/OapsAIMIsmb.ktâ€ L205-L276ã€‘</li>
<li><strong>PK/PD ne sâ€™actualise plus</strong> : vÃ©rifiez que
<code>PkpdEnabled</code> est ON et que vous nâ€™Ãªtes pas en exercice (flag
coupe
lâ€™apprentissage).ã€F:plugins/aps/src/main/kotlin/app/aaps/plugins/aps/openAPSAIMI/pkpd/AdaptivePkPdEstimator.ktâ€ L20-L38ã€‘</li>
<li><strong>Retour aux dÃ©fauts</strong> : chaque clÃ© peut Ãªtre
rÃ©initialisÃ©e depuis le menu (valeurs par dÃ©faut listÃ©es plus haut). Si
vous voulez un reset complet, dÃ©sactivez <code>PkpdEnabled</code>,
supprimez les fichiers <code>oapsaimi*_records.csv</code>, puis
rÃ©activez.</li>
<li><strong>Aucun SMB</strong> : vÃ©rifiez les sÃ©curitÃ©s
<code>isCriticalSafetyCondition</code> (BG&lt;target, delta nÃ©gatif,
etc.) et les plafonds
<code>maxIob</code>/<code>maxSMB</code>.ã€F:plugins/aps/src/main/kotlin/app/aaps/plugins/aps/openAPSAIMI/OapsAIMIsmb.ktâ€ L296-L339ã€‘</li>
</ol>
<hr />
<h2 id="rÃ©capitulatif-pÃ©dagogique">RÃ©capitulatif pÃ©dagogique</h2>
<p>AIMI est un co-pilote adaptatif : - Il observe vos glycÃ©mies, vos
efforts et vos modes pour ajuster lâ€™ISF, le temps de pic et les SMB. -
Ses garde-fous (plateau kicker, NGR, damping SMB, sÃ©curitÃ© sport)
Ã©vitent les extrÃªmes tout en laissant lâ€™apprentissage Ã©voluer. - Laisser
AIMI accumuler des donnÃ©es cohÃ©rentes (profil Ã  jour, annonces repas,
Ã©tapes/pulsations fiables) maximise ses performances. Chaque paramÃ¨tre
est ajustable pour reflÃ©ter votre rÃ©alitÃ©, mais changez un seul rÃ©glage
Ã  la fois pour en lire lâ€™impact dans les logs.</p>
<p>Continuez Ã  collaborer avec AIMI : plus vous fournissez des donnÃ©es
stables, plus il affine ses prÃ©dictions et maintient votre glycÃ©mie dans
la cible.</p>
</body>
</html>
